import{d as j,a9 as D,p as d,L as O,h as P,q as T,o as s,c as l,F as U,r as c,e as t,j as _,a2 as F,aa as q,K as I,k as K,b as h,Z as E,ab as L,n as Z,P as G}from"./framework.9j5Tup-Q.js";import{_ as b}from"./Icon.vue_vue_type_script_setup_true_lang.C6ApDo_I.js";const se=Symbol("formContextKey"),H=Symbol("formItemContextKey"),J={key:0,class:"rl-input__prepend"},Q={class:"rl-input__wrapper"},W={key:0,class:"rl-input__prefix"},X=["type","disabled","readonly","autocomplete","placeholder","autofocus","form"],Y={key:1,class:"rl-input__append"},x=["disabled","readonly","autocomplete","placeholder","autofocus","form"],ae=j({name:"RlInput",inheritAttrs:!1,__name:"Input",props:{type:{default:"text"},modelValue:{},size:{},disabled:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},placeholder:{},readonly:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},form:{}},emits:["update:modelValue","input","change","focus","blur","clear"],setup(z,{expose:M,emit:R}){const n=z,a=R,k=D(),o=d(n.modelValue),p=d(!1),u=d(!1),i=d(),f=O(H),m=e=>{f==null||f.validate(e).catch(r=>console.log("runValidation error",r.errors))},w=P(()=>n.clearable&&!n.disabled&&!!o.value&&p.value),y=P(()=>n.showPassword&&!n.disabled&&!!o.value),g=()=>{u.value=!u.value},A=()=>{},N=async()=>{await G(),i.value.focus()},V=()=>{a("update:modelValue",o.value),a("input",o.value),m("input")},$=()=>{a("change",o.value),m("change")},C=e=>{p.value=!0,a("focus",e)},B=e=>{console.log("blur triggered"),p.value=!1,a("blur",e),m("blur")},S=()=>{console.log("clear triggered"),o.value="",a("update:modelValue",""),a("clear"),a("input",""),a("change","")};return T(()=>n.modelValue,e=>{o.value=e}),M({ref:i}),(e,r)=>(s(),l("div",{class:Z(["rl-input",{[`rl-input--${e.type}`]:e.type,[`rl-input--${e.size}`]:e.size,"is-disabled":e.disabled,"is-prepend":e.$slots.prepend,"is-append":e.$slots.append,"is-prefix":e.$slots.prefix,"is-suffix":e.$slots.suffix,"is-focus":p.value}])},[e.type!=="textarea"?(s(),l(U,{key:0},[e.$slots.prepend?(s(),l("div",J,[c(e.$slots,"prepend")])):t("",!0),_("div",Q,[e.$slots.prefix?(s(),l("span",W,[c(e.$slots,"prefix")])):t("",!0),F(_("input",I({class:"rl-input__inner",type:e.showPassword?u.value?"text":"password":e.type,ref_key:"inputRef",ref:i},K(k),{disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":r[0]||(r[0]=v=>o.value=v),onInput:V,onChange:$,onFocus:C,onBlur:B}),null,16,X),[[q,o.value]]),e.$slots.suffix||w.value||y.value?(s(),l("span",{key:1,class:"rl-input__suffix",onClick:N},[c(e.$slots,"suffix"),w.value?(s(),h(b,{key:0,icon:"circle-xmark",class:"rl-input__clear",onClick:S,onMousedown:E(A,["prevent"])})):t("",!0),y.value&&u.value?(s(),h(b,{key:1,icon:"eye",class:"rl-input__password",onClick:g})):t("",!0),y.value&&!u.value?(s(),h(b,{key:2,icon:"eye-slash",class:"rl-input__password",onClick:g})):t("",!0)])):t("",!0)]),e.$slots.append?(s(),l("div",Y,[c(e.$slots,"append")])):t("",!0)],64)):F((s(),l("textarea",I({key:1,class:"rl-textarea__wrapper"},K(k),{ref_key:"inputRef",ref:i,disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":r[1]||(r[1]=v=>o.value=v),onInput:V,onChange:$,onFocus:C,onBlur:B}),null,16,x)),[[L,o.value]])],2))}});export{ae as _,H as a,se as f};
